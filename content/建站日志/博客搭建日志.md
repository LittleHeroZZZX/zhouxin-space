---
title: åšå®¢æ­å»ºæ—¥å¿—
tags:
  - åšå®¢æ­å»º
  - Hugo
  - obsidian
date: 2024-04-02T14:07:00+08:00
lastmod: 2024-04-10T10:42:00+08:00
publish: true
dir: å»ºç«™æ—¥å¿—
---

# åšå®¢å‘å¸ƒå·¥ä½œæµ

æœ¬æ–‡ä»‹ç»ç¬”è€…åœ¨é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸Šæ­å»ºä¸ªäººåšå®¢çš„è¿‡ç¨‹ï¼Œç›®å‰æˆ‘å‘å¸ƒåšå®¢çš„å·¥ä½œæµä¸ºï¼š

- [obsidian](https://obsidian.md/) ç¼–è¾‘åšå®¢å†…å®¹
- [obsidian-linter](https://github.com/platers/obsidian-linter) æ’ä»¶å¯¹å†…å®¹è¿›è¡Œæ ¼å¼åŒ–
- [obsidian-github-publisher](https://github.com/ObsidianPublisher/obsidian-github-publisher) æ’ä»¶å¯¹æ–‡æ¡£è¿›è¡Œè½¬æ¢ï¼Œå¹¶é€šè¿‡ PR çš„å½¢å¼åˆå¹¶åˆ° [æˆ‘çš„repo](https://github.com/LittleHeroZZZX/zhouxin-space) ä¸­
- åœ¨æœåŠ¡å™¨ä¸Šé€šè¿‡ [Git](https://git-scm.com/) æ‹‰å–å†…å®¹
- ä½¿ç”¨ [Hugo](https://gohugo.io/) ç”Ÿæˆé™æ€ç½‘é¡µï¼Œå¹¶ä½¿ç”¨å…¶è‡ªå¸¦ server è¿›è¡Œéƒ¨ç½²

æœ¬æ–‡é‡ç‚¹ä»‹ç»åä¸¤ä¸ªæ­¥éª¤ï¼Œå³å¦‚ä½•æ­å»ºä¸€ä¸ªåŸºäº Hugo çš„åšå®¢ï¼Œä»¥åŠè‡ªå®šä¹‰é…ç½®è¿‡ç¨‹ã€‚

# æ­å»ºè¿‡ç¨‹

## å®‰è£… Hugo

å®‰è£…æ¯”è¾ƒç®€å•ï¼Œå‚è€ƒ [å®‰è£… | Hugoå®˜æ–¹æ–‡æ¡£](https://hugo.opendocs.io/installation/)ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ä¸è¦ä½¿ç”¨ `apt` å®‰è£…ï¼Œç‰ˆæœ¬è¿‡ä½å¯¼è‡´å¾ˆå¤šå‘½ä»¤å’Œä¸»é¢˜ä¸å…¼å®¹ã€‚å»ºè®®ä½¿ç”¨ `snap` åŒ…ç®¡ç†å™¨å®‰è£…ã€‚

## æ–°å»ºé¡¹ç›®

ä½¿ç”¨ `hugo new site <your_site_name> --format yaml` åˆ›å»ºä¸€ä¸ªåä¸º `<your_site_name>` çš„ç½‘ç«™ï¼ŒHugo ä¼šæ–°å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹å¹¶åˆå§‹åŒ–ç›®å½•ç»“æ„ï¼ŒåŸºæœ¬ç»“æ„åŒ…å«ä»¥ä¸‹ç›®å½•ï¼š

- archetypesï¼šå­˜æ”¾ md å†…å®¹çš„æ¨¡æ¿æ–‡ä»¶
- assetsï¼šå­˜æ”¾å°†é€šè¿‡ Hugo çš„ Pipes åŠŸèƒ½è¿›è¡Œå¤„ç†çš„æ–‡ä»¶ï¼Œå¦‚ SCSS æˆ– JavaScript æ–‡ä»¶
- contentï¼šå­˜æ”¾ç½‘ç«™å†…å®¹æ–‡ä»¶ï¼Œå³æ¯ç¯‡åšæ–‡çš„ md æ–‡ä»¶
- dataï¼šå­˜æ”¾ä¸€äº›é…ç½®æ–‡ä»¶
- layoutsï¼šå­˜æ”¾ç½‘ç«™é¡µé¢çš„æ¨¡æ¿æ–‡ä»¶
- staticï¼šå­˜æ”¾é™æ€æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ç­‰ï¼Œè¿™äº›æ–‡ä»¶åœ¨æ„å»ºæ—¶ä¼šè¢«å¤åˆ¶åˆ° `public` ç›®å½•ä¸­
- i18nï¼šå­˜æ”¾ç¿»è¯‘æ–‡ä»¶
- themesï¼šå­˜æ”¾ä¸»é¢˜

## åº”ç”¨ä¸»é¢˜

ä»¥ [hugo-PaperMod](https://github.com/adityatelange/hugo-PaperMod) ä¸»é¢˜ä¸ºä¾‹ï¼Œè¿™é‡Œä½¿ç”¨ Git å­æ¨¡å—çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œæ›´å¤šå®‰è£…æ–¹å¼è§ï¼š[Install / Update PaperMod | PaperMod](https://adityatelange.github.io/hugo-PaperMod/posts/papermod/papermod-installation/)

``` sh
cd <your_site_name>
git init
git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod
git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically)
```

ä¿®æ”¹é…ç½®æ–‡ä»¶ `hugo.yaml`ï¼Œæ·»åŠ /ä¿®æ”¹ `themes` å­—æ®µä¸ºï¼š

``` yaml
theme: ["PaperMod"]
```

## æ„å»ºéƒ¨ç½²

è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°† `<your_ip/domain>` æ›¿æ¢ä¸ºå…¬ç½‘ ip æˆ–è€…åŸŸåæˆ–è€… `127.0.0.1`ï¼ˆä»…èƒ½åœ¨æœ¬æœºè®¿é—®ï¼‰ï¼š

``` sh
hugo server --bind="0.0.0.0" --baseURL="http://<your_ip/domain>"
```

ç„¶åæ‰“å¼€ `http://<your_ip/domain>:1313` å°±èƒ½çœ‹åˆ°åšå®¢äº†ï¼ğŸ‰

# è‡ªå®šä¹‰é…ç½®

## æ·»åŠ  Archive

Archive å³åšå®¢ä¸­çš„å½’æ¡£ã€æ—¶é—´çº¿åŠŸèƒ½ï¼Œç”¨äºæŒ‰ç…§æ—¶é—´å¯¹åšæ–‡åˆ†ç±»ç®¡ç†ã€‚  
åœ¨ `<your_web_site>/content/` ç›®å½•ä¸‹æ–°å»º `archive.md`ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹æ¨¡æ¿å†…å®¹ï¼š

``` markdown
---
title: "Archive"
layout: "archives"
# url: "/archives"
summary: "archives"
---
```

ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ ä¸€ä¸ªå½’æ¡£çš„èœå•ï¼Œå³å¯é€šè¿‡ç‚¹å‡»èœå•æ ä¸Šå½’æ¡£æŒ‰é’®è¿›å…¥æ—¶é—´çº¿ï¼š

```yaml
menu:
Â  main:
Â  Â  - name: ğŸ“¦å½’æ¡£
Â  Â  Â  url: /archive
Â  Â  Â  weight: 3 # è‡ªå®šä¹‰æƒé‡ï¼Œèœå•æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—
defaultContentLanguage: zh  # ä¿®æ”¹é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡ï¼Œåœ¨å½’æ¡£ç•Œé¢å±•ç¤ºä¸­æ–‡
```

æ³¨æ„ï¼Œå½’æ¡£ä¸­åªä¼šå¯¹å…·æœ‰ `date` å­—æ®µçš„åšæ–‡è¿›è¡Œå½’æ¡£ï¼Œå¦‚æœå½’æ¡£é¡µé¢ä¸ºç©ºï¼Œè¯·æ£€æŸ¥è¯¥å­—æ®µï¼›å¦‚æœçœ‹ä¸åˆ°åšæ–‡æ ‡é¢˜ï¼Œè¯·æ£€æŸ¥æ˜¯å¦é…ç½®äº† `title` å­—æ®µã€‚

## æ·»åŠ æœç´¢

æœç´¢ä¹Ÿæ˜¯ PaperMod å®˜æ–¹æ”¯æŒçš„æ¨¡å—ï¼Œæ”¯æŒå¯¹åšæ–‡å†…å®¹ã€æ ‡é¢˜ã€å…³é”®å­—ç­‰è¿›è¡Œç´¢å¼•ã€‚  
åœ¨ `<your_web_site>/content/` ç›®å½•ä¸‹æ–°å»º `search.md`ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹æ¨¡æ¿å†…å®¹ï¼š

``` markdown
---
title: "Search" # in any language you want
layout: "search" # necessary for search
# url: "/archive"
# description: "Description for Search"
summary: "search"
placeholder: "æ”¯æŒæœç´¢æ ‡é¢˜ã€åšæ–‡ã€Tagsç­‰"
---
```

æ¨¡æ¿ä¸­çš„ `placeholder` å­—æ®µä¸ºæœç´¢æ¡†çš„é»˜è®¤å±•ç¤ºå†…å®¹ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹ã€‚

ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶ï¼Œæ·»åŠ å¯ç”¨æœç´¢æ‰€éœ€çš„é…ç½®ä¿¡æ¯å’Œæœç´¢çš„èœå•æŒ‰é’®ï¼š

```yaml
# å¯ç”¨æœç´¢æ‰€éœ€çš„ä¿¡æ¯
outputs:
Â  home:
Â  Â  - HTML
Â  Â  - RSS
Â  Â  - JSON # necessary for search

# æœç´¢çš„èœå•æŒ‰é’®
menu:
Â  main:
Â  Â  - name: ğŸ”æœç´¢
Â  Â  Â  url: /search
Â  Â  Â  weight: 1
```

## æ·»åŠ  Tags

Tags å±äº PaperMod å·²ç»é»˜è®¤å®ç°çš„ä¸€ä¸ªé¡µé¢ï¼Œåªè¦åœ¨èœå•ä¸­æ·»åŠ ä¸€ä¸ªæŒ‡å‘ `/tags` çš„æŒ‰é’®å³å¯ï¼š

```yaml
menu:
Â  main:
Â  Â  - name: ğŸ·ï¸æ ‡ç­¾
Â  Â  Â  url: /tags
Â  Â  Â  weight: 2
```

## è®¿é—®é‡ç»Ÿè®¡

ä½¿ç”¨ [ä¸è’œå­ - æç®€ç½‘é¡µè®¡æ•°å™¨](https://busuanzi.ibruce.info/) å¯¹åšå®¢å’Œæ–‡ç« è®¿é—®é‡è¿›è¡Œç»Ÿè®¡ã€‚  
é¦–å…ˆåœ¨ `<your_web_site>/layouts/partials/extend_head.html` æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```html
<!-- busuanzi -->
{{- if .Site.Params.busuanzi.enable -}}
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<meta name="referrer" content="no-referrer-when-downgrade">
<style>
Â  Â  :root {
Â  Â  Â  Â  --footer-height: 80px
Â  Â  }
</style>
{{- end -}}
```

`extend_head.html` ä¸­çš„å†…å®¹ä¼šè¢«åŒ…å«åœ¨ `<head>` ä¸­ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¼•å…¥ä¸è’œå­éœ€è¦çš„ js æ–‡ä»¶ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å®šä¹‰ï¼ˆå®é™…ä¸Šæ˜¯è¦†ç›–ï¼‰äº†ä¸€ä¸ª PaperMod ä¸»é¢˜ä¸­çŸ¥è¯†é¡µè„šé«˜åº¦çš„å˜é‡ï¼Œä»¥é˜²æ­¢ç”±äºå¤šè¡Œé¡µè„šå¯¼è‡´å†…å®¹æº¢å‡ºä¸€å±ã€‚

ç„¶åæ‰“å¼€é…ç½®æ–‡ä»¶ `<your_web_site>/hugo.yaml`ï¼Œå¢åŠ ä»¥ä¸‹å­—æ®µä»¥å¯ç”¨è®¡æ•°æ¨¡å—ï¼š

```yaml
params:
	busuanzi:
	Â  Â  enable: true
	hideFooter: true  # ç¦ç”¨é»˜è®¤é¡µè„š
```

ç”±äº PaperMod ä¸»é¢˜é»˜è®¤çš„é¡µè„šæ ·å¼å¯¹äºå¤šè¡Œé¡µè„šæ”¯æŒä¸å®Œå–„ï¼Œå› æ­¤ä¸Šè¿°é…ç½®è¿˜ç¦ç”¨äº†ä¸»é¢˜é»˜è®¤çš„é¡µè„šæ¨¡å—ã€‚æˆ‘ä»¬å°†åœ¨ `<your_web_site>/layouts/partials/extend_footer.html` é‡å†™é¡µè„šï¼Œå³å‘å…¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```html
{{- if not (.Param "hideCustumFooter") }}
<footer class="footer">
Â  {{- if site.Copyright }}
Â  <span>{{ site.Copyright | markdownify }}</span>
Â  {{- else }}
Â  <span>&copy; {{ now.Year }} <a href="{{ "" | absLangURL }}">{{ site.Title }}</a></span>
Â  {{- end }}
Â  <span>
Â  Â  Powered by
Â  Â  <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
Â  Â  <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
Â  </span>
Â  {{ if .Site.Params.busuanzi.enable -}}
Â  <div>
Â  <span id="busuanzi_container_site_pv">
Â  Â  æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
Â  </span>
</div>
Â  {{- end -}}
</footer>
{{- end }}
```

ä¸Šè¿°ä»£ç ä¾æ¬¡æ·»åŠ äº†ç‰ˆæƒå£°æ˜ã€powered by å’Œè®¿é—®é‡çš„é¡µè„šå†…å®¹ï¼Œå¯æ ¹æ®è‡ªå·±å–œå¥½è°ƒæ•´ï¼Œæˆ–è€…æ·»åŠ  IPC å¤‡æ¡ˆå·ç­‰å†…å®¹ã€‚

æ¥ä¸‹æ¥æ·»åŠ å•ç¯‡æ–‡ç« çš„é˜…è¯»é‡ã€‚PaperMod ä¸»é¢˜ä¸­æ–‡ç« éƒ½æ˜¯åŸºäº `single.html` è¿™ä¸ªæ–‡ä»¶æ¸²æŸ“çš„ï¼Œå› æ­¤æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä¿®æ”¹è¯¥æ–‡ä»¶ã€‚ä¸ºäº†é˜²æ­¢å¯¹ä¸»é¢˜æ–‡ä»¶ç ´åï¼Œæˆ‘ä»¬å°† `<your_web_site>/themes/PaperMod/layouts/_default/single.html` æ‹·è´åˆ° `<your_web_site>/layouts/_default/single.html`ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼ˆç”¨æˆ·ç›®å½•çš„æ–‡ä»¶ä¼˜å…ˆçº§é«˜äºä¸»é¢˜ç›®å½•ï¼‰ã€‚

æ‰¾åˆ° `<div class="post-meta">`ï¼Œè¿™ä¸ª `div` åŒ…å«äº†ä¸€ç¯‡æ–‡ç« æ‰€æœ‰çš„ meta æ•°æ®ï¼Œåœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ªè¡¨ç¤ºé˜…è¯»é‡ `div` å³å¯ï¼Œå³ä¿®æ”¹åçš„ä»£ç ä¸ºï¼š

```html
<div class="post-meta">
Â  Â  Â  {{- partial "post_meta.html" . -}}
Â  Â  Â  {{- partial "translation_list.html" . -}}
Â  Â  Â  {{- partial "edit_post.html" . -}}
Â  Â  Â  {{- partial "post_canonical.html" . -}}
Â  Â  Â  {{ if .Site.Params.busuanzi.enable -}}
Â  Â  Â  <div class="meta-item">&nbspÂ·&nbsp
Â  Â  Â  Â  é˜…è¯»é‡ <span id="busuanzi_value_page_pv">
Â  Â  Â  </div>
Â  Â  Â  {{- end }}
Â  Â  </div>
```

ä¹‹åå°±å¯ä»¥åœ¨æ–‡ç« é¡µé¢çœ‹åˆ°æ–‡ç« é˜…è¯»é‡äº†ã€‚

# å‚è€ƒæ–‡æ¡£

[^1]: [å®‰è£… | Hugoå®˜æ–¹æ–‡æ¡£](https://hugo.opendocs.io/installation/)